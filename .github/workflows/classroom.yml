name: ğŸš€ Autograding Forking and Pull Requests

on:
  pull_request:
    types:
      - opened
      - synchronize

jobs:
  grade:
    runs-on: ubuntu-latest

    steps:
    # ğŸ” Step 1: Checkout the PR code
    - name: ğŸ“‚ Checkout Repository
      uses: actions/checkout@v3

    # ğŸ”§ Step 2: Install necessary tools
    - name: ğŸ› ï¸ Install jq (for JSON validation)
      run: sudo apt-get install -y jq

    # âœ… Step 3: Validate the changes
    - name: ğŸ” Validate Changes
      run: |
        echo "ğŸ” Checking the contents of example.txt..."
        # Check if example.txt has been edited
        if ! grep -q "Student has made a change" example.txt; then
          echo "âŒ example.txt has not been edited correctly!"
          exit 1
        fi
        echo "âœ… example.txt has been edited as required!"

    # ğŸ‰ Step 4: Provide feedback
    - name: ğŸ† Complete Grading
      run: echo "âœ… Autograding complete! Well done! ğŸ‰"
